{"version":3,"sources":["main.js","router.js","models/postModel.js","models/userModel.js","views/blogView.js","views/formView.js","views/listView.js","views/loginView.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["import router from './router';\n\n(function(){\n  'use strict';\n\n  $(document).ready(function(){\n    Backbone.history.start();\n  });\n\n})();\n","import ListView from './views/listView';\nimport FormView from './views/formView';\nimport LoginView from './views/loginView';\nimport BlogView from './views/blogView';\nimport {UserCollection} from './models/userModel';\nimport {Post, PostCollection} from './models/postModel';\n\nvar Router = Backbone.Router.extend({\n\n\troutes: {\n\t\t'': 'index',\n\t\t'blog': 'loadBlogs',\n\t\t'blog/:id': 'loadPost'\n\t},\n\n\tinitialize: function() {\n\t\tthis.users = new UserCollection();\n\t\tthis.posts = new PostCollection();\n\t\tthis.posts.fetch();\n\t\tthis.listenTo(this.users, 'add', function() {\n\t\t\tthis.navigate('blog', {trigger: true})\n\t\t}.bind(this));\n\t},\n\n\tindex: function() {\n\t\tvar login = new LoginView({collection: this.users});\n\t\t$('#app').html(login.el);\n\t},\n\n\tloadBlogs: function() {\n\t\tthis.posts.fetch().then(function(data) {\n\t\t\tthis.posts = new PostCollection(data);\n\t\t\tthis.blogList = new ListView({collection: this.posts});\n\t\t\t$('#app').html(this.blogList.el);\n\t\t\tthis.blogForm = new FormView({collection: this.posts});\n\t\t\t$('#app').append(this.blogForm.el);\n\t\t}.bind(this));\n\t},\n\n\tloadPost: function(id) {\n\t\tvar post = this.posts.get(id);\n\t\tthis.blogPost = new BlogView({model: post, collection: this.posts});\n\t\t$('#blog-post').html(this.blogPost.el);\n\t}\n\n});\n\nvar router = new Router();\nexport default router;","var Post = Backbone.Model.extend({\n\n\turlRoot: 'http://tiny-lasagna-server.herokuapp.com/collections/matts_posts',\n\n\tidAttribute: '_id',\n\tdefaults: {\n\t\tusername: '',\n\t\ttitle: '',\n\t\tcontent: ''\n\t},\n\n\t// toJSON: function() {\n\t// \treturn _.extend()\n\t// }\n\n});\n\nvar PostCollection = Backbone.Collection.extend({\n\n\tmodel: Post,\n\turl: 'http://tiny-lasagna-server.herokuapp.com/collections/matts_posts'\n\n});\n\nexport default {Post, PostCollection};","var User = Backbone.Model.extend({\n\tdefaults: {\n\t\tusername: '',\n\t}\n});\n\nvar UserCollection = Backbone.Collection.extend({\n\tmodel: User,\n});\n\nexport default {User, UserCollection};","export default Backbone.View.extend({\n\n\ttemplate: JST.post,\n\n\ttagName: 'div',\n\tclassName: 'post-item-view',\n\n\tevents: {\n\t\t'click .fa-close': 'deletePost',\n\t\t'click .fa-pencil': 'editPost',\n\t\t'click button': 'submitPost'\n\t},\n\n\tinitialize: function() {\n\t\tthis.render();\n\t\tthis.listenTo(this.model, 'change', this.render);\n\t},\n\n\trender: function() {\n\t\tthis.$el.html(this.template(this.model.toJSON()));\n\t},\n\n\tdeletePost: function() {\n\t\tif (confirm(\"Are you sure you want to delete this post?\")) {\n\t\t\tthis.model.destroy();\n\t\t\t$('#blog-post').html('');\n\t\t};\n\t},\n\n\teditPost: function() {\n\t\tvar title = this.model.attributes.title;\n\t\tvar content = this.model.attributes.content;\n\t\t$('.post-title-edit').val(title);\n\t\t$('.post-content-edit').val(content);\n\t\t$('.read').hide();\n\t\t$('.edit').show();\n\t},\n\n\tsubmitPost: function(e) {\n\t\te.preventDefault();\n\t\tvar title = $('.post-title-edit').val();\n\t\tvar content = $('.post-content-edit').val();\n\t\tthis.model.set('title', title);\n\t\tthis.model.set('content', content);\n\t\tthis.model.save();\n\t\t$('.edit').hide();\n\t\t$('.read').show();\n\t}\n\n});","export default Backbone.View.extend({\n\n\ttemplate: JST.form,\n\n\ttagName: 'div',\n\tclassName: 'form-container',\n\n\tevents: {\n\t\t'click .showForm': 'showForm',\n\t\t'click .submit-blog-post': 'postBlog'\n\t},\n\n\tinitialize: function() {\n\t\tthis.render();\n\t},\n\n\trender: function() {\n\t\tthis.$el.html(this.template(this.collection));\n\t},\n\n\tshowForm: function() {\n\t\t$('.add-post-form').slideToggle();\n\t},\n\n\tpostBlog: function(e) {\n\t\te.preventDefault();\n\t\tvar content = $('.add-blog-content-input').val();\n\t\tvar title = $('.add-blog-title-input').val();\n\t\tvar username = localStorage.getItem('username') || '';\n\t\tif (content != '' && title != '') {\n\t\t\tthis.collection.create({\n\t\t\tusername: username,\n\t\t\ttitle: title,\n\t\t\tcontent: content\n\t\t\t});\n\t\t\tthis.$('form').each(function() {\n\t\t\t\tthis.reset();\n\t\t\t});\n\t\t\t$('*').css({'outline': 'none'});\n\t\t} else {\n\t\t\tif (title === '') {\n\t\t\t\t$('.add-blog-title-input').css({'outline': '2px solid rgba(255,0,0,.6)'}).focus();\n\t\t\t} else {\n\t\t\t\t$('.add-blog-content-input').css({'outline': '2px solid rgba(255,0,0,.6)'}).focus();\n\t\t\t}\n\t\t}\n\t}\n\n});","export default Backbone.View.extend({\n\n\ttemplate: JST.blogList,\n\n\ttagName: 'ul',\n\tclassName: 'blog-post-list',\n\n\tevents: {\n\n\t},\n\n\tinitialize: function() {\n\t\tthis.render();\n\t\tthis.listenTo(this.collection, 'update', this.render);\n\t\tthis.listenTo(this.collection, 'change', this.render);\n\t},\n\n\trender: function() {\n\t\tthis.collection.fetch();\n\t\tthis.$el.html(this.template(this.collection.toJSON()));\n\t}\n\n});","export default Backbone.View.extend({\n\n\ttemplate: JST.login,\n\n\ttagName: 'form',\n\tclassName: 'login-form',\n\n\tevents: {\n\t\t'submit': 'login',\n\t},\n\n\tinitialize: function() {\n\t\tthis.render();\n\t},\n\n\trender: function() {\n\t\tthis.$el.html(this.template(this.collection.toJSON()));\n\t},\n\n\tlogin: function(e) {\n\t\te.preventDefault();\n\t\tvar username = this.$('.username-input').val();\n\t\tconsole.log(username);\n\t\twindow.localStorage.setItem('username', username);\n\t\tthis.collection.add({\n\t\t\tusername: username,\n\t\t});\n\t}\n\n});"],"sourceRoot":"/source/"}